<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Regroup Tables Inside Clusters Based on Inclusion Relationships — grp_tab_in_cluster • rtauargus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Regroup Tables Inside Clusters Based on Inclusion Relationships — grp_tab_in_cluster"><meta name="description" content="This function processes clusters of tables and regroups tables that are included
in each other within each cluster. It leverages the relationships identified by
grp_tab_names() and uses the grouped structure of tables from list_split."><meta property="og:description" content="This function processes clusters of tables and regroups tables that are included
in each other within each cluster. It leverages the relationships identified by
grp_tab_names() and uses the grouped structure of tables from list_split."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rtauargus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.2.999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rtauargus.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>tabular-wise</h6></li>
    <li><a class="dropdown-item" href="../articles/rtauargus_fr.html">Tau-Argus depuis R - données tabulées</a></li>
    <li><a class="dropdown-item" href="../articles/protect_multi_tables.html">Protect several linked tables at once</a></li>
    <li><a class="dropdown-item" href="../articles/protect_multi_tables_fr.html">Protéger des tableaux liés</a></li>
    <li><a class="dropdown-item" href="../articles/options_safety_rules.html">Safety rules and Suppress Options</a></li>
    <li><a class="dropdown-item" href="../articles/options_safety_rules_fr.html">Les arguments Safety rules et Suppress</a></li>
    <li><a class="dropdown-item" href="../articles/split_tab_fr.html">Comment poser du secret sur des tableaux à 4 ou 5 dimensions avec `rtauargus`?</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>auto-analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/auto_metadata.html">Automatic analysis of metadata</a></li>
    <li><a class="dropdown-item" href="../articles/auto_metadata_fr.html">Analyse automatique des métadonnées</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>micro-wise</h6></li>
    <li><a class="dropdown-item" href="../articles/rtauargus_micro.html">&amp;tau;-Argus from R - microdata version</a></li>
    <li><a class="dropdown-item" href="../articles/rtauargus_micro_fr.html">Tau-Argus depuis R - sur microdonnées</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Regroup Tables Inside Clusters Based on Inclusion Relationships</h1>
      <small class="dont-index">Source: <a href="https://github.com/inseefrlab/rtauargus/blob/master/R/grp_tab_in_cluster.R" class="external-link"><code>R/grp_tab_in_cluster.R</code></a></small>
      <div class="d-none name"><code>grp_tab_in_cluster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function processes clusters of tables and regroups tables that are included
in each other within each cluster. It leverages the relationships identified by
<code><a href="grp_tab_names.html">grp_tab_names()</a></code> and uses the grouped structure of tables from <code>list_split</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">grp_tab_in_cluster</span><span class="op">(</span><span class="va">list_split</span>, <span class="va">list_translation_tables</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-list-split">list_split<a class="anchor" aria-label="anchor" href="#arg-list-split"></a></dt>
<dd><p>A list of clusters of tables, where each cluster contains
nested data frames. Typically, this is the output of the <code><a href="split_in_clusters.html">split_in_clusters()</a></code> function.</p></dd>


<dt id="arg-list-translation-tables">list_translation_tables<a class="anchor" aria-label="anchor" href="#arg-list-translation-tables"></a></dt>
<dd><p>A list of results from <code><a href="grp_tab_names.html">grp_tab_names()</a></code> containing
inclusion relationships and mappings of table names to their respective groups.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of tibbles (<code>big_tibble_eg</code>) for each cluster, where each tibble contains:</p><ul><li><p><code>table_name</code>: The updated table name based on grouping.</p></li>
<li><p><code>data</code>: Nested data corresponding to the original table structure.</p></li>
<li><p><code>spanning</code>: Columns that define the structure of each table.</p></li>
<li><p><code>tab_inclus</code>: A list of original table names included within each grouped table.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The resulting tibble contains updated table names (to align with the group mapping)
and metadata for each independent table in the cluster. Additionally, it tracks
which tables are included within each group.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">metadata_pizza_lettuce</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert wide metadata to long format</span></span></span>
<span class="r-in"><span><span class="va">metadata_pizza_lettuce_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="wide_to_long.html">wide_to_long</a></span><span class="op">(</span><span class="va">metadata_pizza_lettuce</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Identify hierarchical relationships</span></span></span>
<span class="r-in"><span><span class="va">list_hrc_identified</span> <span class="op">&lt;-</span> <span class="fu"><a href="identify_hrc.html">identify_hrc</a></span><span class="op">(</span><span class="va">metadata_pizza_lettuce_long</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Split tables into clusters</span></span></span>
<span class="r-in"><span><span class="va">list_split</span> <span class="op">&lt;-</span> <span class="fu"><a href="split_in_clusters.html">split_in_clusters</a></span><span class="op">(</span><span class="va">list_hrc_identified</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Detect inclusion relationships</span></span></span>
<span class="r-in"><span><span class="va">list_desc_links</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_edges.html">create_edges</a></span><span class="op">(</span><span class="va">list_split</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Group tables based on inclusion relationships</span></span></span>
<span class="r-in"><span><span class="va">list_translation_tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="grp_tab_names.html">grp_tab_names</a></span><span class="op">(</span><span class="va">list_desc_links</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Regroup tables within each cluster</span></span></span>
<span class="r-in"><span><span class="va">list_independent_tables</span> <span class="op">&lt;-</span> <span class="fu">grp_tab_in_cluster</span><span class="op">(</span><span class="va">list_split</span>, <span class="va">list_translation_tables</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View structure of the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">list_independent_tables</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pierre-Yves Berrard, Julien Jamme, Nathanaël Rastout, Jeanne Pointet, Félix Beroud, André-Raymond Socard, Wistan Pomel, Clara Baudry.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

