<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Protects tables built from microdata and specifications of the crossings.
The function allows to perform the complete process, namely the creation of
the asc and rda files, the construction of the arb file, the effective
launching of Tau-Argus and the eventual recovery of the results in R. 
(Secrétise des tableaux construits à partir de microdonnées et des
spécifications des croisements. La fonction permet d'effectuer le processus
complet, à savoir la création des fichiers asc et rda, la construction
du fichier arb, le lancement effectif de Tau-Argus et la récupération
éventuelle des résultats dans R.)"><title>Protects tables from microdata — rtauargus • rtauargus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Protects tables from microdata — rtauargus"><meta property="og:description" content="Protects tables built from microdata and specifications of the crossings.
The function allows to perform the complete process, namely the creation of
the asc and rda files, the construction of the arb file, the effective
launching of Tau-Argus and the eventual recovery of the results in R. 
(Secrétise des tableaux construits à partir de microdonnées et des
spécifications des croisements. La fonction permet d'effectuer le processus
complet, à savoir la création des fichiers asc et rda, la construction
du fichier arb, le lancement effectif de Tau-Argus et la récupération
éventuelle des résultats dans R.)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rtauargus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rtauargus.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/options_safety_rules.html">Safety rules and Suppress Options</a>
    <a class="dropdown-item" href="../articles/protect_multi_tables.html">Protect several linked tables at once</a>
    <a class="dropdown-item" href="../articles/rtauargus_micro.html">&amp;tau;-Argus from R</a>
    <a class="dropdown-item" href="../articles/rtauargus_micro_fr.html">&amp;tau;-Argus depuis R</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Protects tables from microdata</h1>
      <small class="dont-index">Source: <a href="https://github.com/inseefrlab/rtauargus/blob/HEAD/R/rtauargus.R" class="external-link"><code>R/rtauargus.R</code></a></small>
      <div class="d-none name"><code>rtauargus.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Protects tables built from microdata and specifications of the crossings.
The function allows to perform the complete process, namely the creation of
the asc and rda files, the construction of the arb file, the effective
launching of Tau-Argus and the eventual recovery of the results in R. <br>
(Secrétise des tableaux construits à partir de microdonnées et des
spécifications des croisements. La fonction permet d'effectuer le processus
complet, à savoir la création des fichiers asc et rda, la construction
du fichier arb, le lancement effectif de Tau-Argus et la récupération
éventuelle des résultats dans R.)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rtauargus</span><span class="op">(</span><span class="va">microdata</span>, <span class="va">explanatory_vars</span>, <span class="va">safety_rules</span>, <span class="va">suppress</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>microdata</dt>
<dd><p>[<strong>required</strong>] data.frame containing the microdata
(or path to text files already present: see section
<em>Microdata already as text files</em>). <br>
([<strong>obligatoire</strong>] data.frame contenant les microdonnées
  (ou chemin vers des fichiers texte déjà présents : voir section
  <em>Microdata already as text files</em>).)</p></dd>


<dt>explanatory_vars</dt>
<dd><p>[<strong>required</strong>] categorical variables, in
form of a list of vectors. Each element of the list is a vector of
variable names forming a tab.
Example: <code>list(c("CJ", "A21"), c("SEX", "REGION"))</code> for the first
table crossing <code>CJ</code> x <code>A21</code> and the second table crossing
<code>SEXE</code> x <code>REGION</code>.
If a single tabulation, a simple vector of the variables to be crossed is
accepted (no need for <code>list(...)</code>). <br>
([<strong>obligatoire</strong>] variables catégorielles, sous
forme de liste de vecteurs. Chaque élément de la liste est un vecteur des
noms des variables formant une tabulation.
Exemple: <code>list(c("CJ", "A21"), c("SEX", "REGION"))</code> pour la première
table croisant <code>CJ</code> x <code>A21</code> et la seconde croisant
<code>SEXE</code> x <code>REGION</code>
Si une seule tabulation, un simple vecteur des variables à croiser est
accepté (pas besoin de <code>list(...)</code>).)</p></dd>


<dt>safety_rules</dt>
<dd><p>[<strong>required</strong>] primary secret rule(s).
String in Tau-Argus batch syntax. The weighting is treated
in a separate parameter (do not specify WGT here, use the
<code>weighted</code>). <br>
([<strong>obligatoire</strong>] règle(s) de secret primaire.
Chaîne de caractères en syntaxe batch Tau-Argus. La pondération est traitée
dans un paramètre à part (ne pas spécifier WGT ici, utiliser le paramètre
<code>weighted</code>).)</p></dd>


<dt>suppress</dt>
<dd><p>[<strong>required</strong>] secret management method(s)
secondary (Tau-Argus batch syntax). If the method is the same for
each tabulation, the first parameter (table number) will be ignored and
renumbered automatically (see section 'Syntax'). <br>
([<strong>obligatoire</strong>] méthode(s) de gestion du secret
secondaire (syntaxe batch de Tau-Argus). Si la méthode est la même pour
chaque tabulation, le premier paramètre (numéro du tableau) sera ignoré et
renuméroté automatiquement (voir la section 'Syntax').)</p></dd>


<dt>...</dt>
<dd><p>optional parameters for <code>micro_asc_rda</code>, <code>micro_arb</code>
and <code>run_arb</code>. See the help for these functions. <br>
(paramètres optionnels pour <code>micro_asc_rda</code>, <code>micro_arb</code>
   et <code>run_arb</code>. Voir l'aide de ces fonctions.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If <code>import = TRUE</code>, a list of data.frames (protected tables),
<code>NULL</code> otherwise. <br></p>



<p>(Si <code>import = TRUE</code>, une liste de data.frames (tableaux
  secrétisés), <code>NULL</code> sinon.)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function executes sequentially the functions:</p><ul><li><p><code><a href="micro_asc_rda.html">micro_asc_rda</a></code> <code>-&gt;</code>
<code><a href="micro_arb.html">micro_arb</a></code> <code>-&gt;</code>
<code><a href="run_arb.html">run_arb</a></code></p></li>
</ul><p>Intermediate files without a name entered (<code>asc_filename</code>...)
will be created in a temporary folder, with randomly generated names.
This mechanism allows the user to abstract from the preparation of
preparation of the data and to maintain the entire chain of
processing in R. <br></p>
<p>(La fonction exécute séquentiellement les fonctions :</p><ul><li><p><code><a href="micro_asc_rda.html">micro_asc_rda</a></code> <code>-&gt;</code>
    <code><a href="micro_arb.html">micro_arb</a></code> <code>-&gt;</code>
    <code><a href="run_arb.html">run_arb</a></code></p></li>
</ul><p>Les fichiers intermédiaires sans nom renseigné (<code>asc_filename</code>...)
seront créés dans un dossier temporaire, avec des noms générés aléatoirement.
Ce mécanisme permet à l'utilisateur de s'abstraire de la préparation des
données propre à Tau-Argus et de maintenir l'intégralité de la chaîne de
traitements dans R.)</p>
    </div>
    <div class="section level2">
    <h2 id="microdata-already-as-text-files">Microdata already as text files<a class="anchor" aria-label="anchor" href="#microdata-already-as-text-files"></a></h2>
    

<p>To use existing asc and rda files already existing, it is possible to
provide, instead of the data.frame, a character vector indicating
the path of these files. The first element of this vector is the asc file,
the second element the rda file. The rda file can be omitted if it has the
same name as the asc file (except for the extension).
Use this option to start the whole process without the generation
of the text data. Do not specify <code>asc_filename</code> or
<code>rda_filename</code> (used to name the text files to be created, which is
irrelevant here). <br></p>
<p>Pour utiliser des fichiers asc et rda existant déjà, il est possible de
fournir à la place du data.frame un vecteur caractère indiquant le chemin
de ces fichiers. Le premier élément de ce vecteur est le fichier asc,
le deuxième élément le fichier rda. Le fichier rda peut être omis s'il
porte le même nom que le fichier asc (à l'extension près).</p>
<p>Utiliser cette option pour lancer le processus complet sans la génération
 des données en texte. Ne pas spécifier <code>asc_filename</code> ou
 <code>rda_filename</code> (sert à nommer les fichiers texte à créer, ce qui est
 sans objet ici).</p>
    </div>
    <div class="section level2">
    <h2 id="syntax">Syntax<a class="anchor" aria-label="anchor" href="#syntax"></a></h2>
    

<p>Tau-Argus can handle multiple tabs for the same set of
microdata. Passing a single value for an option will apply the same
processing to each tab. For differentiated options, passing a
vector containing as many values as there are tabs. If the lengths do not
match (not recommended), a recycling is performed.</p>
<p>Unless otherwise stated, use the syntax mentioned in the documentation
of Tau-Argus.</p>
<p>Special syntax for <code>suppress</code> : the first parameter in the
Tau-Argus syntax is the tab number. If the method is identical
for all tabs, this first parameter will be ignored and the numbers
are automatically recalculated for the batch. In the writing
<code>suppress = "GH(n,100)"</code>, n will thus be transformed into 1 for the
first tab, into 2 for the second tab, etc.</p>
<p>(Tau-Argus peut traiter plusieurs tabulations pour un même jeu de
microdonnées. Passer une seule valeur pour une option appliquera le même
traitement à chaque tabulation. Pour des options différenciées, passer un
vecteur contenant autant de valeurs que de tabulations. Si les longueurs ne
correspondent pas (déconseillé), un recyclage est effectué.</p>
<p>Sauf mention contraire, utiliser la syntaxe mentionnée dans la documentation
de Tau-Argus.</p>
<p>Syntaxe spéciale pour <code>suppress</code> : le premier paramètre dans la
syntaxe Tau-Argus est le numéro de la tabulation. Si la méthode est identique
pour toutes les tabulations, ce premier paramètre sera ignoré et les numéros
recalculés automatiquement pour le batch. Dans l'écriture
<code>suppress = "GH(n,100)"</code>, n sera ainsi transformé en 1 pour la première
tabulation, en 2 pour la deuxième tabulation, etc.)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code>link{rtauargus_plus}</code>, a version optimized for a large
number of tables (at the cost of some usage restrictions). <br>
(<code><a href="rtauargus_plus.html">rtauargus_plus</a></code>, une version optimisée pour un grand
  nombre de tableaux (au prix de quelques restrictions d'usage).)</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">rtauargus</span><span class="op">(</span></span></span>
<span class="r-in"><span>  microdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>V1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"A"</span><span class="op">)</span>, V2 <span class="op">=</span> <span class="st">"Z"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  explanatory_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"V1"</span>, <span class="st">"V2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  safety_rules <span class="op">=</span> <span class="st">"FREQ(3,10)"</span>,</span></span>
<span class="r-in"><span>  suppress <span class="op">=</span> <span class="st">"GH(.,100)"</span>,</span></span>
<span class="r-in"><span>  output_options <span class="op">=</span> <span class="st">"AS+"</span> <span class="co"># (example of optional parameter for micro_arb)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pierre-Yves Berrard, Julien Jamme, Nathanaël Rastout, Jeanne Pointet, Félix Beroud.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

