<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Optimization of the function link{rtauargus} for a large number of
crossovers (all having the same parameters). 
(Optimisation de la fonction rtauargus pour un grand nombre de
croisements (ayant tous les mêmes paramètres).)"><title>Mass protection — rtauargus_plus • rtauargus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mass protection — rtauargus_plus"><meta property="og:description" content="Optimization of the function link{rtauargus} for a large number of
crossovers (all having the same parameters). 
(Optimisation de la fonction rtauargus pour un grand nombre de
croisements (ayant tous les mêmes paramètres).)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rtauargus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/rtauargus.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/options_safety_rules.html">Safety rules and Suppress Options</a>
    <a class="dropdown-item" href="../articles/protect_multi_tables.html">Protect several linked tables at once</a>
    <a class="dropdown-item" href="../articles/rtauargus_micro.html">&amp;tau;-Argus from R</a>
    <a class="dropdown-item" href="../articles/rtauargus_micro_fr.html">&amp;tau;-Argus depuis R</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Mass protection</h1>
      <small class="dont-index">Source: <a href="https://github.com/inseefrlab/rtauargus/blob/HEAD/R/rtauargus_plus.R" class="external-link"><code>R/rtauargus_plus.R</code></a></small>
      <div class="d-none name"><code>rtauargus_plus.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Optimization of the function <code>link{rtauargus}</code> for a large number of
crossovers (all having the same parameters). <br>
(Optimisation de la fonction <code><a href="rtauargus.html">rtauargus</a></code> pour un grand nombre de
croisements (ayant tous les mêmes paramètres).)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rtauargus_plus</span><span class="op">(</span></span>
<span>  grp_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  <span class="va">microdata</span>,</span>
<span>  <span class="va">explanatory_vars</span>,</span>
<span>  <span class="va">safety_rules</span>,</span>
<span>  <span class="va">suppress</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>grp_size</dt>
<dd><p>number of tables per Tau-Argus call (an integer between
between 1 and 10). <br>
(nombre de tableaux par appel de Tau-Argus (un entier compris
  entre 1 et 10).)</p></dd>


<dt>microdata</dt>
<dd><p>[<strong>required</strong>] data.frame containing the microdata. <br>
([<strong>obligatoire</strong>] data.frame contenant les microdonnées.)</p></dd>


<dt>explanatory_vars</dt>
<dd><p>[<strong>required</strong>] categorical variables, in
form of a list of vectors. Each element of the list is a vector of
variable names forming a tab.
Example: <code>list(c("CJ", "A21"), c("SEX", "REGION"))</code> for the first
table crossing <code>CJ</code> x <code>A21</code> and the second table crossing
<code>SEXE</code> x <code>REGION</code>.
If a single tabulation, a simple vector of the variables to be crossed is
accepted (no need for <code>list(...)</code>). <br>
([<strong>obligatoire</strong>] variables catégorielles, sous
forme de liste de vecteurs. Chaque élément de la liste est un vecteur des
noms des variables formant une tabulation.
Exemple: <code>list(c("CJ", "A21"), c("SEX", "REGION"))</code> pour la première
table croisant <code>CJ</code> x <code>A21</code> et la seconde croisant
<code>SEXE</code> x <code>REGION</code>
Si une seule tabulation, un simple vecteur des variables à croiser est
accepté (pas besoin de <code>list(...)</code>).)</p></dd>


<dt>safety_rules</dt>
<dd><p>[<strong>required</strong>] primary secret rule(s).
String in Tau-Argus batch syntax. The weighting is treated
in a separate parameter (do not specify WGT here, use the
<code>weighted</code>). <br>
([<strong>obligatoire</strong>] règle(s) de secret primaire.
Chaîne de caractères en syntaxe batch Tau-Argus. La pondération est traitée
dans un paramètre à part (ne pas spécifier WGT ici, utiliser le paramètre
<code>weighted</code>).)</p></dd>


<dt>suppress</dt>
<dd><p>[<strong>required</strong>] secondary secret management method
(Tau-Argus batch syntax). Only one method allowed for
all tables. Example : <code>"GH(.,100)"</code> (the dot playing the role of the
tabulation number). <br>
[<strong>obligatoire</strong>] méthode de gestion du secret
  secondaire (syntaxe batch de Tau-Argus). Une seule méthode autorisée pour
  tous les tableaux. Exemple <code>"GH(.,100)"</code> (le point jouant le rôle du
  numéro de tabulation).</p></dd>


<dt>...</dt>
<dd><p>optional parameters for <code>micro_asc_rda</code>, <code>micro_arb</code>
and <code>run_arb</code>. See the help for these functions. <br>
(paramètres optionnels pour <code>micro_asc_rda</code>, <code>micro_arb</code>
   et <code>run_arb</code>. Voir l'aide de ces fonctions.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of data.frames (secret arrays). <br></p>


<p>(Une liste de data.frames (tableaux secrétisés).)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In interactive mode, Tau-Argus can process up to 10 tabs
simultaneously for the same microdata set. In batch mode, a larger number of
of crossings can be specified. However, doing so
can be particularly time consuming, as Tau-Argus takes a lot of time
to read large text files of microdata.</p>
<p><code>rtauargus_plus</code> helps to improve the speed of execution. The function
splits the list of tabs into groups of size <code>grp_size</code> and
makes a call to <code>rtauargus</code> for each group. It writes an
asc file restricted to the only variables actually used within a
of a group.</p>
<p>The results are then aggregated into a single list, as if Tau-Argus
had been called only once.</p>
<p>Modifying <code>grp_size</code> will not change the result, only the time
execution time. A value around 5 (default) seems to be a good compromise
between reading too large asc files and calling Tau-Argus too often.
Tau-Argus too much. It can be adjusted according to the number of
common variables within each tab group.
(En mode interactif, Tau-Argus peut traiter jusqu'à 10 tabulations
simultanément pour un même jeu de microdonnées. En mode batch, un nombre plus
important de croisements peut être spécifié. Cependant, procéder de la sorte
peut être particulièrement long, car Tau-Argus prend beaucoup de temps
pour lire des fichiers texte volumineux de microdonnées.</p>
<p><code>rtauargus_plus</code> permet d'améliorer la vitesse d'exécution. La fonction
découpe la liste des tabulations en groupes de taille <code>grp_size</code> et
effectue un appel à <code>rtauargus</code> pour chaque groupe. Elle écrit un
fichier asc restreint aux seules variables effectivement utilisées au sein
d'un groupe.</p>
<p>Les résultats sont ensuite agrégés en une unique liste, comme si Tau-Argus
n'avait été appelé qu'une seule fois.</p>
<p>Modifier <code>grp_size</code> ne changera pas le résultat, seulement le temps
d'exécution. Une valeur autour de 5 (défaut) semble être un bon compromis
entre une lecture de fichiers asc trop volumineux et un nombre d'appels à
Tau-Argus trop important. Elle peut être ajustée en fonction du nombre de
variables communes à l'intérieur de chaque groupe de tabulations.)</p>
    </div>
    <div class="section level2">
    <h2 id="limits-in-relation-to-the-function-rtauargus">Limits in relation to the function <code>rtauargus</code><a class="anchor" aria-label="anchor" href="#limits-in-relation-to-the-function-rtauargus"></a></h2>
    


<p>In return for the speed of execution, the crossings must have the
same characteristics (same primary secret rules, same secondary secret method,
same secondary secret, same weighting variable, etc.). The parameters
<code>safety_rules</code>, <code>supress</code>, ..., must therefore contain a
unique value.</p>
<p>Moreover, it is not possible to specify <code>asc_filename</code>,
<code>rda_filename</code>, <code>arb_filename</code> or <code>output_names</code> to
retrieve the intermediate files. These files will be written to a
temporary folder (and overwritten with each new group). Therefore,
specifying <code>import = FALSE</code> is irrelevant and will be ignored.</p>
<p>The data must be a data.frame (asc and rda files not allowed).</p>
<p>If the <code>linked</code> option is used, the link will only be effective at
within each group of tabs. <br></p>
<p>(En contrepartie de la vitesse d'exécution, les croisements doivent avoir les
mêmes caractéristiques (mêmes règles de secret primaire, même méthode de
secret secondaire, même variable de pondération, etc.). Les paramètres
<code>safety_rules</code>, <code>supress</code>, ..., doivent donc contenir une valeur
unique.</p>
<p>De plus, il n'est pas possible de spécifier <code>asc_filename</code>,
<code>rda_filename</code>, <code>arb_filename</code> ou <code>output_names</code> pour
récupérer les fichiers intermédiaires. Ces fichiers seront écrits dans un
dossier temporaire (et écrasés à chaque nouveau groupe). Par conséquent,
spécifier <code>import = FALSE</code> est sans objet et sera ignoré.</p>
<p>Les données doivent obligatoirement être un data.frame (fichiers asc et rda
pas autorisés).</p>
<p>Si l'option <code>linked</code> est utilisée, la liaison ne sera effective qu'à
l'intérieur de chaque groupe de tabulations.)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="rtauargus.html">rtauargus</a></code>, a function called repeatedly by
<code>rtauargus_plus</code>. <br>
fonction appelée de manière répétée par
  <code>rtauargus_plus</code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># example of ?rtauargus, with an (artificial) repetition of the crossings</span></span></span>
<span class="r-in"><span><span class="fu">rtauargus_plus</span><span class="op">(</span></span></span>
<span class="r-in"><span>  grp_size         <span class="op">=</span> <span class="fl">6</span>, <span class="co"># (pour lancer les 12 croisements en 2 appels)</span></span></span>
<span class="r-in"><span>  microdata        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>V1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"A"</span><span class="op">)</span>, V2 <span class="op">=</span> <span class="st">"Z"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  explanatory_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"V1"</span>, <span class="st">"V2"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"V1"</span>, <span class="st">"V2"</span><span class="op">)</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  safety_rules     <span class="op">=</span> <span class="st">"FREQ(3,10)"</span>,</span></span>
<span class="r-in"><span>  suppress         <span class="op">=</span> <span class="st">"GH(.,100)"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Pierre-Yves Berrard, Julien Jamme, Nathanaël Rastout, Jeanne Pointet, Félix Beroud.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

